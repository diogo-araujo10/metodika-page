<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>METODIKA (V1)</title>

  <style>
    :root{
      --bg-a: #1d3557;
      --bg-b: #457b9d;
      --bg-c: #a8dadc;
      --card-bg-1: rgba(255,255,255,0.10);
      --card-bg-2: rgba(255,255,255,0.03);
      --card-radius: 18px;
      --logos-height: 70px; /* ajust√°vel */
      --logos-gap: 40px;
      --min-duration: 18s; /* m√≠nimo tempo do loop */
      --speed-factor: 2.8s; /* multiplicador por logo */
    }

    *{box-sizing:border-box}
    body {
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      background: linear-gradient(135deg, var(--bg-a), var(--bg-b), var(--bg-c));
      font-family: 'Segoe UI', Tahoma, sans-serif;
      color: #fff;
      text-align: center;
      overflow-x: hidden;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .container {
      width: min(92vw, 720px);
      animation: fadeIn 1s ease-in-out;
      margin-bottom: 26px;
      filter: drop-shadow(0 6px 18px rgba(0,0,0,0.25));
      padding: 28px 20px 36px;
      border-radius: 16px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent 60%);
    }

    img.logo-principal {
      width: 320px;
      max-width: 90%;
      margin-bottom: 22px;
      filter: drop-shadow(0 8px 22px rgba(0,0,0,.35));
    }

    h1 {
      font-size: 48px;
      margin: 6px 0;
      font-weight: 800;
      letter-spacing: 1.5px;
    }

    p {
      font-size: 18px;
      margin-bottom: 20px;
      opacity: .95;
    }

    button {
      padding: 14px 40px;
      font-size: 18px;
      border-radius: 32px;
      background: #f1faee;
      color: #1d3557;
      font-weight: 700;
      cursor: pointer;
      border: none;
      transition: transform .25s ease, background .25s ease, color .25s ease;
      box-shadow: 0 8px 20px rgba(0,0,0,.22);
    }

    button:hover {
      background: #a8dadc;
      color: #fff;
      transform: translateY(-3px) scale(1.02);
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(18px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* --- CARROSSEL APRIMORADO --- */
    .logos-wrap {
      width: min(92vw, 900px);
      margin: 0 auto 36px;
      position: relative;
    }

    .logos {
      width: 100%;
      overflow: hidden;
      padding: 14px 6px;
      border-radius: var(--card-radius);
      background: linear-gradient(135deg, var(--card-bg-1), var(--card-bg-2));
      backdrop-filter: blur(10px) saturate(1.05);
      box-shadow: 0 6px 30px rgba(0,0,0,0.26);
      position: relative;
    }

    /* Sheen / brilho sutil que percorre a faixa */
    .logos::before{
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      background: linear-gradient(120deg, rgba(255,255,255,0.00) 0%, rgba(255,255,255,0.055) 45%, rgba(255,255,255,0.00) 60%);
      transform: translateX(-120%);
      filter: blur(12px) saturate(1.1);
      transition: opacity .3s;
      mix-blend-mode: overlay;
      animation: sheen 5.6s linear infinite;
      opacity: 0.85;
    }

    @keyframes sheen {
      0% { transform: translateX(-120%); }
      60% { transform: translateX(110%); }
      100% { transform: translateX(110%); }
    }

    /* Track com anima√ß√£o (usa --duration dinamicamente por JS) */
    .logos-track {
      display: flex;
      align-items: center;
      gap: var(--logos-gap);
      /* largura grande o suficiente; duplica√ß√£o das logos √© feita no HTML */
      animation: scroll var(--duration, 28s) linear infinite;
      will-change: transform;
    }

    .logos-track img {
      height: var(--logos-height);
      width: auto;
      display: block;
      opacity: 0.92;
      transition: transform .28s ease, filter .28s ease, opacity .28s ease;
      filter: grayscale(36%) contrast(0.98) brightness(0.95);
      transform-origin: center;
    }

    .logos-track img:hover,
    .logos-track img:focus {
      transform: translateY(-4px) scale(1.06);
      opacity: 1;
      filter: grayscale(0%) contrast(1.03) brightness(1.03);
    }

    /* pausa no hover / foco */
    .logos:hover .logos-track,
    .logos:focus-within .logos-track {
      animation-play-state: paused;
    }

    /* anima√ß√£o de scroll keyframes simples */
    @keyframes scroll {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); } /* depende de duplicar conte√∫do para loop */
    }

    /* acessibilidade: reduz movimento */
    @media (prefers-reduced-motion: reduce) {
      .logos-track,
      .logos::before {
        animation: none !important;
      }
    }

    /* responsividade */
    @media (max-width: 640px){
      h1 { font-size: 34px; }
      p { font-size: 16px; margin-bottom: 14px; }
      .container { padding: 18px 14px 24px; }
      .logos-wrap { margin-bottom: 22px; }
      :root{ --logos-height: 52px; --logos-gap: 22px; }
      button { padding: 12px 28px; font-size: 16px; }
    }

    /* pequena borda inferior para destacar quando tiver conte√∫do abaixo */
    .logos-wrap::after{
      content: "";
      display:block;
      height:6px;
      width:100%;
      margin-top:10px;
      border-radius: 4px;
      background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.00));
      opacity: 0.9;
    }
  </style>
</head>

<body>
  <div class="container" role="main" aria-labelledby="titulo">
    <img src="img/logoo.png" alt="Logo Metodika" class="logo-principal">
    <h1 id="titulo">METODIKA</h1>
    <p>Ferramenta Online de Apoio ao Desenvolvimento de Metodologia Cient√≠fica</p>
    <button type="button" id="btn-comecar">Come√ßar</button>
  </div>

  <!-- CARROSSEL APRIMORADO -->
  <div class="logos-wrap" aria-hidden="false">
    <div class="logos" role="region" aria-label="Parceiros e apoiadores ‚Äî logomarcas">
      <div class="logos-track" id="logos-track" aria-hidden="false" tabindex="-1">
        <!-- COLE AQUI SUAS LOGOS (duplicadas para loop infinito) -->
        <img src="img/Logomarca_CDSA-Selo-Semfundo.png" alt="CDSA" loading="lazy">
        <img src="img/UFCG-Central-Selo-SemFundo.png" alt="UFCG" loading="lazy">
        <img src="img/Logo SIMEP.png" alt="SIMEP" loading="lazy">
        <img src="img/Logo LABFABRI.png" alt="LABFABRI" loading="lazy">
        <img src="img/Logo LADA.png" alt="LADA" loading="lazy">
        <img src="img/Logo LAPEP.png" alt="LAPEP" loading="lazy">
        <img src="img/Logo LET.png" alt="LET" loading="lazy">
        <img src="img/Engineering_and_consulting-removebg-preview.png" alt="Engineering & Consulting" loading="lazy">

        <!-- duplicadas para garantir loop cont√≠nuo -->
        <img src="img/Logomarca_CDSA-Selo-Semfundo.png" alt="CDSA" loading="lazy">
        <img src="img/UFCG-Central-Selo-SemFundo.png" alt="UFCG" loading="lazy">
        <img src="img/Logo SIMEP.png" alt="SIMEP" loading="lazy">
        <img src="img/Logo LABFABRI.png" alt="LABFABRI" loading="lazy">
        <img src="img/Logo LADA.png" alt="LADA" loading="lazy">
        <img src="img/Logo LAPEP.png" alt="LAPEP" loading="lazy">
        <img src="img/Logo LET.png" alt="LET" loading="lazy">
        <img src="img/Engineering_and_consulting-removebg-preview.png" alt="Engineering & Consulting" loading="lazy">
      </div>
    </div>
  </div>

  <script>
    /* Ajusta dinamicamente a dura√ß√£o do loop com base na quantidade de logos vis√≠veis */
    (function(){
      const track = document.getElementById('logos-track');
      if(!track) return;
      const imgs = track.querySelectorAll('img');
      const logosCount = imgs.length / 2; // dividimos por 2 pois duplicamos
      const root = document.documentElement;
      // calcula dura√ß√£o em segundos: multiplica pela constante e converte para 's'
      const factor = parseFloat(getComputedStyle(root).getPropertyValue('--speed-factor')) || 2.8;
      const minDurationRaw = getComputedStyle(root).getPropertyValue('--min-duration') || '18s';
      const minDuration = parseFloat(minDurationRaw);
      let durationSec = Math.max(minDuration, Math.ceil(logosCount * factor));
      // adiciona um toque extra para telas maiores (mais espa√ßo)
      if(window.innerWidth > 1200) durationSec *= 1.12;
      const durationCss = durationSec + 's';
      track.style.setProperty('--duration', durationCss);

      // Pausa com teclado quando o track recebe foco; reativa ao blur
      track.addEventListener('focus', () => {
        track.style.animationPlayState = 'paused';
      });
      track.addEventListener('blur', () => {
        track.style.animationPlayState = 'running';
      });

      // tamb√©m pausa quando o usu√°rio passa o mouse (por CSS j√° faz isso), mas deixamos fallback JS
      track.addEventListener('mouseenter', () => {
        track.style.animationPlayState = 'paused';
      });
      track.addEventListener('mouseleave', () => {
        // respeitar prefers-reduced-motion:
        if(window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
        track.style.animationPlayState = 'running';
      });

      // se preferir reduzir movimento, desativa anima√ß√µes
      if(window.matchMedia('(prefers-reduced-motion: reduce)').matches){
        track.style.animation = 'none';
        document.querySelectorAll('.logos::before'); // noop
      }
    })();

    // üîπ FUN√á√ÉO PARA LIMPAR DADOS E INICIAR NOVO FLUXO
    function limparEIniciar() {
      console.log('üßπ Limpando dados anteriores do localStorage...');
      
      // Remove todos os dados relacionados ao fluxo metodol√≥gico
      const dadosParaLimpar = [
        'problema',
        'revisaoLiteratura', 
        'baseDados',
        'metodosColeta',
        'softwares',
        'obtido',
        'tituloFluxo'
      ];
      
      dadosParaLimpar.forEach(chave => {
        localStorage.removeItem(chave);
        console.log(`üóëÔ∏è Removido: ${chave}`);
      });
      
      console.log('‚úÖ Todos os dados foram limpos! Iniciando novo fluxo...');
      
      // Aguarda um pouco para garantir a limpeza e vai para a pr√≥xima p√°gina
      setTimeout(() => {
        window.location.href = 'metodologia0.html';
      }, 300);
    }

    // üîπ CONFIGURA O BOT√ÉO "COME√áAR" PARA LIMPAR DADOS ANTES DE INICIAR
    document.getElementById('btn-comecar').addEventListener('click', limparEIniciar);

    // üîπ TAMB√âM LIMPA DADOS QUANDO A P√ÅGINA CARREGA (PARA GARANTIR)
    document.addEventListener('DOMContentLoaded', function() {
      console.log('üöÄ P√°gina inicial carregada - garantindo ambiente limpo');
      
      // Limpa dados apenas se o usu√°rio estiver voltando para come√ßar um novo fluxo
      // Isso evita limpar dados em uso durante um fluxo ativo
      if (!window.location.hash) {
        const dadosParaLimparRapidamente = ['revisaoLiteratura', 'tituloFluxo'];
        dadosParaLimparRapidamente.forEach(chave => {
          localStorage.removeItem(chave);
        });
      }
    });
  </script>
</body>
</html>